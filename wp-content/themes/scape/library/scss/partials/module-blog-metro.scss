
// Import sass variables
@import "../../scss/partials/variables";

// Import mixins
@import "../../scss/partials/mixins";

/*---------------------------------------------------------------*/
/* --   METRO LAYOUT
/*---------------------------------------------------------------*/

.blog-metro {
	padding: 0;

	#content {
		z-index: 1;
	}

	.wtbx-filter:not(.filter-sidebar) + .wtbx-grid-wrapper {
		padding-top: 15px;
	}

	.wtbx-grid-metro {
		max-width: none;
	}

	article.post-entry {
		padding: 0;
		margin: 0;
		z-index: 1;
		position: relative;

		.post-metro-inner {
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			overflow: hidden;

			.post-metro-link {
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 10;
			}

			.meta-author-link {
				display: block;
				padding-right: 40px;
				//opacity: .5;
				@include transition(all .3s $cb6);

				.author-image {
					display: inline-block;
					padding-right: 5px;
					float: left;

					img {
						width: 26px;
						height: 26px;
						border-radius: 50%;
						background-color: #fff;
					}
				}

				.meta-author {
					line-height: 26px;
					display: inline-block;
					color: #fff;
					font-weight: 600;
					text-overflow: clip;
					text-overflow: ellipsis;
					text-overflow: "â€¦";
					white-space: nowrap;
					overflow: hidden;
					width: 100%;
				}

				.author-image + .meta-author {
					width: calc(100% - 31px);
				}
			}

			.meta-date {
				color: rgba(255,255,255,.6);
				display: inline-block;
				font-size: .857143em;
				font-weight: 600;
				margin-top: .5em;

				i {
					margin-right: 5px;
				}
			}

			.meta-categories {
				margin: 0;
				font-weight: 400;
				display: block;
				margin-bottom: 5px;

				.category-list {
					padding: 0;

					a {
						display: inline-block;
						padding: 0 1em;
						line-height: 2.4;
						border-radius: 4em;
						margin: 0 2px 5px 0;
						font-size: .714286em;
						font-weight: 600;
						text-transform: uppercase;
						color: #fff;
						background-color: rgba(0,0,0,.2);
						@include transition(all .3s $cb6);
					}
				}
			}

			.entry-title {
				display: block;
				font-size: 1.285714em;
				font-weight: 700;
				line-height: 1.2;
				@include transition(all .3s $cb6);

				a {
					color: #fff;
				}
			}

			.post-metro-comments {
				position: absolute;
				bottom: 20px;
				right: 20px;
				font-size: .857143em;
				font-weight: 600;
				line-height: 20px;
				color: #fff;
				//opacity: .5;
				@include transition(all .3s $cb6);

				i {
					font-size: 1.2em;
					margin-right: 5px;
					margin-top: .2em;
					float: left;
				}
			}

			.post-like {
				position: absolute;
				top: 0;
				right: 0;

				a {
					display: block;
					text-shadow: none;
					white-space: nowrap;
					font-size: .857143em;
					@include transition(all .3s $cb6);

					i {
						display: inline-block;
						font-size: 1.2em;
						line-height: 26px;
						@include transition(all .3s $cb6);
						color: #fff;
						margin-right: .3em;
						margin-top: .05em;
					}

					span {
						height: 26px;
						line-height: 26px;
						color: #fff;
						float: right;
						@include transition(opacity .3s $cb6);
					}

					&.loading {
						pointer-events: none;

						i {
							opacity: 1;
							@include animation(pulse .7s infinite);
						}

						span {
							opacity: 0;
						}

						i {
							@include scale3d(1.1,1.1,1);
						}
					}
				}
			}

			.post-metro-header {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				z-index: 2;
				padding: 20px 20px 0;

				.entry-meta {
					position: relative;
					margin: 0;
					height: 25px;
					width: 100%;
				}
			}

			.post-metro-footer {
				position: absolute;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 2;
				padding: 0 55px 20px 20px;
				line-height: 20px;
				@include transition(all .5s $cb6);
			}

			.post-link-overlay {
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 2;
			}

			.post-metro-bg {
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 1;

				.post-media {
					position: absolute;
					top: 0;
					bottom: 0;
					left: 0;
					right: 0;
					margin: 0;
					z-index: 1;
					overflow: hidden;
					@include transition(transform .6s $cb6);

					.post-metro-overlay {
						position: absolute;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
						z-index: 2;
						@include transition(opacity .5s $cb6);
					}

					.post-thumb-bg {
						position: absolute;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
						z-index: 1;

						.post-thumbnail {
							position: absolute;
							top: 0;
							bottom: 0;
							left: 0;
							right: 0;
							background-size: cover;
							background-position: center center;
							background-repeat: no-repeat;
						}
					}

					.wtbx-bg-image {
						position: absolute;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
						z-index: 1;
						overflow: hidden;

						.wtbx-bg-image-inner {
							position: absolute;
							top: 0;
							bottom: 0;
							left: 0;
							right: 0;
						}
					}
				}
			}

			&.hover {
				.post-media {
					@include scale3d(1.05,1.05,1);
					@include transition(transform .5s $cb6);

					.post-metro-overlay {
						opacity: 0;
					}
				}

				.meta-author-link {
					opacity:0;
				}

				.post-metro-comments, .post-like a {
					opacity: 0;
					@include scale3d(.8,.8,1);
				}

				.post-metro-footer {
					opacity: 0;
				}
			}

			&:not(.static-overlay).hover {
				.post-metro-bg .post-media .post-metro-overlay {
					opacity: 0;
					@include transition(opacity .5s ease-in);
				}

				.post-metro-bg .post-media .post-metro-overlay-hover {
					opacity: 1;
					@include transition(opacity .5s ease-out);
				}
			}
		}
	}
}