!function(e){"use strict";function a(a,t,s){a.on("mousedown.ba-events touchstart.ba-events",function(n){a.addClass("ba-draggable"),t.addClass("ba-resizable");var i=n.pageX?n.pageX:n.originalEvent.touches[0].pageX,o=a.outerWidth(),r=a.offset().left+o-i,f=s.offset().left,d=s.outerWidth(),u,b;u=f+10,b=f+d-o-10,a.parents().on("mousemove.ba-events touchmove.ba-events",function(a){var t,s=(a.pageX?a.pageX:a.originalEvent.touches[0].pageX)+r-o;s<u?s=u:s>b&&(s=b);var n=100*(s+o/2-f)/d+"%";e(".ba-draggable").css("left",n),e(".ba-resizable").css("width",n)}).on("mouseup.ba-events touchend.ba-events touchcancel.ba-events",function(){a.removeClass("ba-draggable"),t.removeClass("ba-resizable"),e(this).off(".ba-events")}),n.preventDefault()})}e.fn.beforeAfter=function(){var t=this,s=t.width()+"px";t.find(".resize img").css("width",s),a(t.find(".handle"),t.find(".resize"),t),e(window).resize(function(){var e=t.width()+"px";t.find(".resize img").css("width",e)})}}(jQuery);