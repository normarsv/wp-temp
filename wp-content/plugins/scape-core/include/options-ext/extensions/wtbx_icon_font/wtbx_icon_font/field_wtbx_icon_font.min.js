jQuery(document).ready(function($){var t=$("#wtbx-custom_icon_font");t.find(".media_upload_button").unbind().on("click",function(t){n(t,$(this).parents("fieldset.redux-field:first"))}),$(document).on("click","#wtbx-custom_icon_font .notice-dismiss",function(){$(this).closest(".notice").fadeOut(300,function(){$(this).remove()})}),$(document).on("click","#wtbx-custom_icon_font .wtbx-font-preview-remove",function(){var n=$(this),i=n.data("remove"),e=n.data("confirmation");confirm(e)===!0&&$.ajax({type:"POST",url:wtbx_icon_font_ajax.ajaxurl,data:{action:"remove_icon_font",font:i},success:function(n){if(n){t.find('.wtbx-font-preview[data-font="'+i+'"]').remove();var e=t.find(".custom_icon_font_folder").val();e=""!==e?JSON.parse(e):[];var o=e.indexOf(i);o>-1&&e.splice(o,1),t.find(".custom_icon_font_folder").val(JSON.stringify(e)),$("#redux_save").trigger("click")}},error:function(t){}})});var n=function(n,i){n.preventDefault();var e=$(this),o=$(this),a=o.data();a.input_target=$("#"+a.target);var c=wp.media({multiple:!1,library:{type:"application/octet-stream, application/zip"},button:{text:t.find(".media_upload_button").data("select")}});c.on("select",function(){var t=c.state().get("selection").first();c.close();var n=$(i).find(".data").data();$.ajax({type:"POST",url:wtbx_icon_font_ajax.ajaxurl,data:{action:"unzip_icon_font",id:t.attributes.id,filename:t.attributes.filename},success:function(t){t&&$(".wtbx-font-preview-container").append(t)},error:function(t){}})}),c.open()}});